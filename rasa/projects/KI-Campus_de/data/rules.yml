version: '2.0'

rules:
  - rule: respond to FAQs
    steps:
    - intent: faq
    - action: utter_faq
    - action: utter_anything_else
    
  # - rule: Implementation of the Two-Stage-Fallback
  #   steps:
  #   - intent: nlu_fallback
  #   - action: action_two_stage_fallback
  #   - active_loop: action_two_stage_fallback

  - rule: out-of-scope
    steps:
    - intent: out_of_scope
    - action: utter_out_of_scope
    - action: utter_anything_else

  # - rule: activate course form
  #   steps:
  #   - intent: get_achievements
  #   - action: course_form
  #   - active_loop: course_form

  # - rule: submit form
  #   condition:
  #   - active_loop: course_form
  #   steps:
  #   - action: course_form
  #   - active_loop: null
  #   - slot_was_set:
  #     - requested_slot: null
  #   - action: utter_submit
  #   - action: utter_slots_values
  #   - action: action_all_slots

  - rule: Submit course_form
    condition:
    - active_loop: course_form
    steps:
    - action: course_form
    - active_loop: null
    - slot_was_set:
      - requested_slot: null
    - action: utter_slots_values
